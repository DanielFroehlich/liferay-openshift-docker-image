pod:
  image: openshift/origin-pod
  container_name: pod
  ports:
    - "8080:8080"

mysql:
  image: openshift/mysql-56-centos7
  user: "100000"
  environment:
    MYSQL_ROOT_PASSWORD: mysecretpassword
    MYSQL_DATABASE: liferay
    MYSQL_USER: liferay
    MYSQL_PASSWORD: liferay
  net: "container:pod"

liferay:
  #image: axags/liferay-openshift
  build: .
  user: "100000"
  environment:
    LIFERAY_DB_TYPE: MYSQL
    LIFERAY_DB_HOST: localhost
    LIFERAY_DB_DATABASE: liferay
    LIFERAY_DB_USER: liferay
    LIFERAY_DB_PASSWORD: liferay
  # we use a link just to make sure liferay doesn't start before mysql
  links:
    - mysql
  net: "container:pod"
